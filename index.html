<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prioritizer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-layout">
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Stage Navigation Bar (always visible) -->
            <div class="stage-navigation-bar">
                <div class="stage-nav-controls">
                    <div class="workflow-container">
                        <div class="workflow-label">Workflow</div>
                        <div class="stage-steps">
                            <span class="stage-step" data-stage="Item Listing">Items</span>
                            <span class="workflow-arrow">→</span>
                            <span class="stage-step" data-stage="urgency">Urgency</span>
                            <span class="workflow-arrow">→</span>
                            <span class="stage-step" data-stage="value">Value</span>
                            <span class="workflow-arrow">→</span>
                            <span class="stage-step" data-stage="duration">Duration</span>
                            <span class="workflow-arrow">→</span>
                            <span class="stage-step" data-stage="Results">Results</span>
                        </div>
                    </div>
                    <div class="main-actions">
                        <button id="settingsBtn" class="btn btn-primary main-action-btn">Settings</button>
                        <a href="help.html" class="btn btn-primary main-action-btn">Help</a>
                        <button id="clearDataBtn" class="btn btn-danger main-action-btn clear-data-action-btn">Clear Data</button>
                    </div>
                </div>
            </div>
            
            <!-- Settings View (initially hidden) -->
            <div id="settingsViewSection" style="display: none;" class="settings-view-section">
                <div class="settings-view-content">
                    <div class="settings-header">
                        <h2>Settings</h2>
                        <button id="closeSettingsBtn" class="close-settings-btn" title="Close Settings">&times;</button>
                    </div>
                    <div class="settings-section">
                        
                        <!-- Limits Section -->
                        <div class="settings-subsection">
                            <h3>Limits</h3>
                            
                            <div class="settings-group">
                                <h4>Urgency Limits</h4>
                                <div class="settings-row">
                                    <label>Level 1:</label>
                                    <input type="number" id="urgencyLimit1" min="0" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="1" data-type="limit">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 2:</label>
                                    <input type="number" id="urgencyLimit2" min="0" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="2" data-type="limit">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 3:</label>
                                    <input type="number" id="urgencyLimit3" min="0" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="3" data-type="limit">Save</button>
                                </div>
                            </div>
                            
                            <div class="settings-group">
                                <h4>Value Limits</h4>
                                <div class="settings-row">
                                    <label>Level 1:</label>
                                    <input type="number" id="valueLimit1" min="0" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="1" data-type="limit">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 2:</label>
                                    <input type="number" id="valueLimit2" min="0" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="2" data-type="limit">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 3:</label>
                                    <input type="number" id="valueLimit3" min="0" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="3" data-type="limit">Save</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Weights Section -->
                        <div class="settings-subsection">
                            <h3>Weights</h3>
                            
                            <div class="settings-group">
                                <h4>Urgency Weights</h4>
                                <div class="settings-row">
                                    <label>Level 1:</label>
                                    <input type="number" id="urgencyWeight1" min="0" step="0.1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="1" data-type="weight">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 2:</label>
                                    <input type="number" id="urgencyWeight2" min="0" step="0.1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="2" data-type="weight">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 3:</label>
                                    <input type="number" id="urgencyWeight3" min="0" step="0.1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="3" data-type="weight">Save</button>
                                </div>
                            </div>
                            
                            <div class="settings-group">
                                <h4>Value Weights</h4>
                                <div class="settings-row">
                                    <label>Level 1:</label>
                                    <input type="number" id="valueWeight1" min="0" step="0.1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="1" data-type="weight">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 2:</label>
                                    <input type="number" id="valueWeight2" min="0" step="0.1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="2" data-type="weight">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 3:</label>
                                    <input type="number" id="valueWeight3" min="0" step="0.1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="3" data-type="weight">Save</button>
                                </div>
                            </div>
                            
                            <div class="settings-group">
                                <h4>Duration Weights</h4>
                                <div class="settings-row">
                                    <label>Level 1:</label>
                                    <input type="number" id="durationWeight1" min="0" step="0.1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="duration" data-level="1" data-type="weight">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 2:</label>
                                    <input type="number" id="durationWeight2" min="0" step="0.1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="duration" data-level="2" data-type="weight">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 3:</label>
                                    <input type="number" id="durationWeight3" min="0" step="0.1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="duration" data-level="3" data-type="weight">Save</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Titles & Descriptions Section -->
                        <div class="settings-subsection">
                            <h3>Titles & Descriptions</h3>
                            
                            <div class="settings-group">
                                <h4>Urgency Titles</h4>
                                <div class="settings-row">
                                    <label>Level 1:</label>
                                    <input type="text" id="urgencyTitle1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="1" data-type="title">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 2:</label>
                                    <input type="text" id="urgencyTitle2" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="2" data-type="title">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 3:</label>
                                    <input type="text" id="urgencyTitle3" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="3" data-type="title">Save</button>
                                </div>
                            </div>
                            
                            <div class="settings-group">
                                <h4>Urgency Descriptions</h4>
                                <div class="settings-row-vertical">
                                    <label>Level 1:</label>
                                    <textarea id="urgencyDescription1" class="textarea input-md settings-textarea" rows="3"></textarea>
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="1" data-type="description">Save</button>
                                </div>
                                <div class="settings-row-vertical">
                                    <label>Level 2:</label>
                                    <textarea id="urgencyDescription2" class="textarea input-md settings-textarea" rows="3"></textarea>
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="2" data-type="description">Save</button>
                                </div>
                                <div class="settings-row-vertical">
                                    <label>Level 3:</label>
                                    <textarea id="urgencyDescription3" class="textarea input-md settings-textarea" rows="3"></textarea>
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="urgency" data-level="3" data-type="description">Save</button>
                                </div>
                            </div>
                            
                            <div class="settings-group">
                                <h4>Value Titles</h4>
                                <div class="settings-row">
                                    <label>Level 1:</label>
                                    <input type="text" id="valueTitle1" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="1" data-type="title">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 2:</label>
                                    <input type="text" id="valueTitle2" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="2" data-type="title">Save</button>
                                </div>
                                <div class="settings-row">
                                    <label>Level 3:</label>
                                    <input type="text" id="valueTitle3" class="input input-md settings-input" />
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="3" data-type="title">Save</button>
                                </div>
                            </div>
                            
                            <div class="settings-group">
                                <h4>Value Descriptions</h4>
                                <div class="settings-row-vertical">
                                    <label>Level 1:</label>
                                    <textarea id="valueDescription1" class="textarea input-md settings-textarea" rows="3"></textarea>
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="1" data-type="description">Save</button>
                                </div>
                                <div class="settings-row-vertical">
                                    <label>Level 2:</label>
                                    <textarea id="valueDescription2" class="textarea input-md settings-textarea" rows="3"></textarea>
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="2" data-type="description">Save</button>
                                </div>
                                <div class="settings-row-vertical">
                                    <label>Level 3:</label>
                                    <textarea id="valueDescription3" class="textarea input-md settings-textarea" rows="3"></textarea>
                                    <button class="btn btn-primary btn-md settings-save-btn" data-category="value" data-level="3" data-type="description">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="resultsViewSection" style="display: none;" class="view-section results-view-section">
                <div class="view-header results-view-header">
                    <button id="resetOrderBtn" class="reset-order-btn" title="Reset order to CD3 descending">Reset Order</button>
                </div>
                <div id="resultsViewContent" class="results-view-content">
                    <div class="results-callout" id="resultsCallout">
                        Here are your items sorted descending by weighted cost of delay (CD3)
                    </div>
                    <div class="results-list" id="resultsList">
                        <!-- Results will be displayed here -->
                    </div>
                </div>
            </div>
            
            <div id="itemListingViewSection" style="display: none;" class="view-section item-listing-view-section">
                <div id="itemListingViewContent" class="item-listing-view-content">
                    <div class="item-listing-callout" id="itemListingCallout">
                        Add item names, one per line below. You can optionally include a link by adding a comma and URL after the item name.
                    </div>
                    <div class="item-listing-form">
                        <textarea id="itemListingTextarea" 
                                  class="textarea input-xl input-border-light item-listing-textarea" 
                                  placeholder="Example Item 1&#10;Example Item 2, https://example.com&#10;Example Item 3&#10;You can add more items by coming back here later"></textarea>
                        <button id="itemListingSubmitBtn" class="submit-btn item-listing-submit-btn">Add Items</button>
                    </div>
                    <div class="item-listing-items">
                        <h3>Added Items</h3>
                        <div id="itemListingItemsDisplay" class="item-listing-items-list">
                            <!-- Items will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>

        <div id="valueViewSection" style="display: none;" class="view-section value-view-section">
            <div id="valueViewContent" class="view-content value-view-content">
                <div class="value-callout" id="valueCallout">
                    For each of your items, move them up into the value rows. You can't move them sideways (for now)
                </div>
                <div class="grid-container value-grid-container">
                    <div class="grid grid-rows-5 value-grid">
                        <!-- Row 1: Empty cell | Column Headers -->
                        <div class="value-grid-corner"></div>
                        <div class="grid-label grid-label-column urgency-column-label value-grid-header" id="urgencyColumnLabel1">Title</div>
                        <div class="grid-label grid-label-column urgency-column-label value-grid-header" id="urgencyColumnLabel2">Title</div>
                        <div class="grid-label grid-label-column urgency-column-label value-grid-header" id="urgencyColumnLabel3">Title</div>
                        
                        <!-- Rows 2-4: Row Headers | Grid Cells -->
                        <div class="grid-label grid-label-row value-row-label value-grid-header" id="valueRowLabel3">Title</div>
                        <div class="grid-cell value-grid-cell" id="valueCell-3-1"></div>
                        <div class="grid-cell value-grid-cell" id="valueCell-3-2"></div>
                        <div class="grid-cell value-grid-cell" id="valueCell-3-3"></div>
                        
                        <div class="grid-label grid-label-row value-row-label value-grid-header" id="valueRowLabel2">Title</div>
                        <div class="grid-cell value-grid-cell" id="valueCell-2-1"></div>
                        <div class="grid-cell value-grid-cell" id="valueCell-2-2"></div>
                        <div class="grid-cell value-grid-cell" id="valueCell-2-3"></div>
                        
                        <div class="grid-label grid-label-row value-row-label value-grid-header" id="valueRowLabel1">Title</div>
                        <div class="grid-cell value-grid-cell" id="valueCell-1-1"></div>
                        <div class="grid-cell value-grid-cell" id="valueCell-1-2"></div>
                        <div class="grid-cell value-grid-cell" id="valueCell-1-3"></div>
                        
                        <!-- Row 5: Parking Lot label | No-Value Boxes -->
                        <div class="grid-label grid-label-row value-row-label value-grid-header parking-lot-label">PARKING LOT</div>
                        <div class="parking-lot-box value-no-value-box">
                            <div class="parking-lot-content value-no-value-box-content" id="valueNoValueBox1"></div>
                        </div>
                        <div class="parking-lot-box value-no-value-box">
                            <div class="parking-lot-content value-no-value-box-content" id="valueNoValueBox2"></div>
                        </div>
                        <div class="parking-lot-box value-no-value-box">
                            <div class="parking-lot-content value-no-value-box-content" id="valueNoValueBox3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="durationViewSection" style="display: none;" class="view-section duration-view-section">
            <div id="durationViewContent" class="view-content duration-view-content">
                <div class="duration-callout" id="durationCallout">
                    Set the duration for each item using the dropdown. This represents how long the work will take.
                </div>
                <div class="grid-container duration-grid-container">
                    <div class="grid grid-rows-4 duration-grid">
                        <!-- Row 1: Empty cell | Column Headers -->
                        <div class="duration-grid-corner"></div>
                        <div class="grid-label grid-label-column urgency-column-label duration-grid-header" id="durationUrgencyColumnLabel1">Title</div>
                        <div class="grid-label grid-label-column urgency-column-label duration-grid-header" id="durationUrgencyColumnLabel2">Title</div>
                        <div class="grid-label grid-label-column urgency-column-label duration-grid-header" id="durationUrgencyColumnLabel3">Title</div>
                        
                        <!-- Rows 2-4: Row Headers | Grid Cells -->
                        <div class="grid-label grid-label-row duration-row-label duration-grid-header" id="durationValueRowLabel3">Title</div>
                        <div class="grid-cell duration-grid-cell" id="durationCell-3-1"></div>
                        <div class="grid-cell duration-grid-cell" id="durationCell-3-2"></div>
                        <div class="grid-cell duration-grid-cell" id="durationCell-3-3"></div>
                        
                        <div class="grid-label grid-label-row duration-row-label duration-grid-header" id="durationValueRowLabel2">Title</div>
                        <div class="grid-cell duration-grid-cell" id="durationCell-2-1"></div>
                        <div class="grid-cell duration-grid-cell" id="durationCell-2-2"></div>
                        <div class="grid-cell duration-grid-cell" id="durationCell-2-3"></div>
                        
                        <div class="grid-label grid-label-row duration-row-label duration-grid-header" id="durationValueRowLabel1">Title</div>
                        <div class="grid-cell duration-grid-cell" id="durationCell-1-1"></div>
                        <div class="grid-cell duration-grid-cell" id="durationCell-1-2"></div>
                        <div class="grid-cell duration-grid-cell" id="durationCell-1-3"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="urgencyViewSection" style="display: none;" class="view-section urgency-view-section">
            <div id="urgencyViewContent" class="view-content urgency-view-content">
                <div class="urgency-callout" id="urgencyCallout">
                    Categorize each of your items by urgency
                </div>
                <div class="grid-container urgency-grid-container">
                    <div class="grid grid-rows-3 urgency-grid">
                        <!-- Row 1: Empty cell | Column Headers -->
                        <div class="urgency-grid-corner"></div>
                        <div class="grid-label grid-label-column urgency-column-label urgency-grid-header" id="urgencyViewUrgencyColumnLabel1">Title</div>
                        <div class="grid-label grid-label-column urgency-column-label urgency-grid-header" id="urgencyViewUrgencyColumnLabel2">Title</div>
                        <div class="grid-label grid-label-column urgency-column-label urgency-grid-header" id="urgencyViewUrgencyColumnLabel3">Title</div>
                        
                        <!-- Row 2: Row Header | Columns -->
                        <div class="grid-label grid-label-row urgency-row-label urgency-grid-header"></div>
                        <div class="grid-cell urgency-column">
                            <div class="urgency-column-content" id="urgencyColumn1"></div>
                        </div>
                        <div class="grid-cell urgency-column">
                            <div class="urgency-column-content" id="urgencyColumn2"></div>
                        </div>
                        <div class="grid-cell urgency-column">
                            <div class="urgency-column-content" id="urgencyColumn3"></div>
                        </div>
                        
                        <!-- Row 3: Parking Lot label | No-Value Box (spans columns 2-4) -->
                        <div class="grid-label grid-label-row urgency-row-label urgency-grid-header parking-lot-label">PARKING LOT</div>
                        <div class="parking-lot-box urgency-no-value-box">
                            <div class="parking-lot-content urgency-no-value-content" id="urgencyNoValueContent">
                                Items without urgency values go here
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Clear Data Modal -->
    <div id="clearDataModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h2>Clear Data</h2>
                <button id="modalCloseBtn" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-content">
                <div class="modal-field">
                    <label for="clearDataOption">Select what to clear:</label>
                    <select id="clearDataOption" class="select input-lg modal-select">
                        <option value="itemsOnly">Clear my item data but keep my settings</option>
                        <option value="itemsAndSettings">Clear my item data and my settings</option>
                    </select>
                </div>
                <div class="modal-field">
                    <label for="clearDataConfirm">Type "Clear my data" to confirm:</label>
                    <input type="text" id="clearDataConfirm" class="input input-lg modal-input" placeholder="Clear my data" />
                </div>
            </div>
            <div class="modal-footer">
                <button id="modalCancelBtn" class="btn btn-secondary modal-cancel-btn">Cancel</button>
                <button id="modalSubmitBtn" class="btn btn-danger modal-submit-btn" disabled>Clear Data</button>
            </div>
        </div>
    </div>

    <!-- Header Info Modal -->
    <div id="headerInfoModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="headerInfoModalTitle">Header Information</h2>
                <button id="headerInfoModalClose" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-content">
                <p id="headerInfoModalDescription" style="line-height: 1.6; color: #495057;"></p>
            </div>
        </div>
    </div>

    <!-- Notes Modal -->
    <div id="notesModal" class="modal-overlay notes-modal-overlay" style="display: none;">
        <div class="modal-container notes-modal-container">
            <div class="modal-header">
                <h2 id="notesModalTitle">Notes</h2>
                <button id="notesModalClose" class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-content notes-modal-content">
                <div id="notesModalItemName" class="notes-modal-item-name" style="font-weight: 600; margin-bottom: 15px; color: #495057;"></div>
                
                <!-- Existing Notes List -->
                <div id="notesModalNotesList" class="notes-modal-notes-list" style="margin-bottom: 20px;">
                    <!-- Notes will be displayed here -->
                </div>
                
                <!-- Add/Edit Note Form -->
                <div class="notes-modal-form">
                    <label for="notesModalTextarea" style="display: block; margin-bottom: 8px; font-weight: 500; color: #495057;">Add or Edit Note:</label>
                    <textarea id="notesModalTextarea" class="textarea input-lg notes-modal-textarea" rows="4" placeholder="Enter your note here..."></textarea>
                    <div class="notes-modal-buttons" style="margin-top: 15px; display: flex; gap: 10px;">
                        <button id="notesModalAddBtn" class="btn btn-primary notes-modal-btn">Add Note</button>
                        <button id="notesModalEditBtn" class="btn btn-secondary notes-modal-btn" style="display: none;">Update Note</button>
                        <button id="notesModalCancelEditBtn" class="btn btn-secondary notes-modal-btn" style="display: none;">Cancel Edit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app-api.js"></script>
    <script type="module" src="app.js"></script>
    <script src="test-adapter.js"></script>
    <script src="tests.js"></script>
</body>
</html>

